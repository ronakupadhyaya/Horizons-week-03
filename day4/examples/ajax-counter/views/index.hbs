<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>AJAX Counter</title>
  </head>
  <body>
    <h1>Count: <span id="count">{{count}}</span></h1>
    <form>
      <input id="up" type="submit" value="Up" class="up">
    </form>
    <form>
      <input id="down" type="submit" value="Down">
    </form>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script>
      $("h1").val("hi");
      // YOUR CODE HERE
      $("#up").on("click", function(event) {
        event.preventDefault();
        var count = parseInt($("#count").text());
        console.log(count);
        $.ajax({
          url: "/up",
          method: "POST",
          data: {count: count},
          success: function(res) {
            $("#count").text(res.count);
          },
          error: function(err) {
            console.log(err);
          }
        })
      })
      $("#down").on("click", function(event) {
        event.preventDefault();
        var count = parseInt($("#count").text());
        console.log(count);
        $.ajax({
          url: "/down",
          method: "POST",
          data: {count: count},
          success: function(res) {
            $("#count").text(res.count);
          },
          error: function(err) {
            console.log(err);
          }
        })
      })
    </script>
  </body>
</html>
