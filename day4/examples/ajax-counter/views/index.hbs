<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>AJAX Counter</title>
  </head>
  <body>
    <h1>Count: <span id="count">{{count}}</span></h1>
    <form action="/up" method="post">
      <input id="up" type="submit" value="Up">
    </form>
    <form action="/down" method="post">
      <input id="down" type="submit" value="Down">
    </form>

    <script src="/jquery.js"></script>
    <script>
      $("#up").on('click',function(event){
        event.preventDefault();
        var count = $('#count').val();
        //console.log(count);
        count++;
        $.ajax({
          url:'/up',
          method: 'post',
          data:{
            count:count
          },
          success: function(res){
            $('#count').html(res.count);
          }
        })
      });
      $("#down").on('click',function(event){
        event.preventDefault();
        var count = $('#count').val();
        // console.log(count);
        count--;
        $.ajax({
          url:'/down',
          method:'post',
          data:{
            count:count
          },
          success: function(res){
            $('#count').html(res.count);
          }
        })
      });
    </script>
  </body>
</html>
